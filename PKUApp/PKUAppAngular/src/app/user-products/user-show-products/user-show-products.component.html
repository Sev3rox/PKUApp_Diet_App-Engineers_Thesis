<div class="panel panel-primary">
    <div class="panel-body">

<div class="modal fade bg-dark" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ModalTitle}}</h5>
        <button #mybutton type="button" class="close" 
        data-dismiss="modal" aria-label="Close"
        (click)="closeClick()" >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <app-user-details-product [product]="product" *ngIf="ActivateDetailsProductComp">
          </app-user-details-product>
      </div>
    </div>
  </div>
</div>
      <div style="align-content: center;">
        <button *ngIf="categoryFruits" (click)="categoryResult('Fruits')" style="width:9%; margin-left: 1%;" type="button" class="btn btn-primary">Fruits</button>
        <button *ngIf="!categoryFruits" (click)="categoryResult('Fruits')" style="width:9%; margin-left: 1%;" type="button" class="btn btn-light">Fruits</button>
        <button *ngIf="categoryVegetables" (click)="categoryResult('Vegetables')" style="width:9%;" type="button" class="btn btn-primary">Vegetables</button>
        <button *ngIf="!categoryVegetables" (click)="categoryResult('Vegetables')" style="width:9%;" type="button" class="btn btn-light">Vegetables</button>
        <button *ngIf="categoryDairy" (click)="categoryResult('Dairy')" style="width:9%;" type="button" class="btn btn-primary">Dairy</button>
        <button *ngIf="!categoryDairy" (click)="categoryResult('Dairy')" style="width:9%;" type="button" class="btn btn-light">Dairy</button>
        <button *ngIf="categoryGrains" (click)="categoryResult('Grains')" style="width:9%;" type="button" class="btn btn-primary">Grains</button>
        <button *ngIf="!categoryGrains" (click)="categoryResult('Grains')" style="width:9%;" type="button" class="btn btn-light">Grains</button>
        <button *ngIf="categoryProteinFoods" (click)="categoryResult('ProteinFoods')" style="width:9%;" type="button" class="btn btn-primary">Protein Foods</button>
        <button *ngIf="!categoryProteinFoods" (click)="categoryResult('ProteinFoods')" style="width:9%;" type="button" class="btn btn-light">Protein Foods</button>
        <button *ngIf="categoryDrinks" (click)="categoryResult('Drinks')" style="width:9%;" type="button" class="btn btn-primary">Drinks</button>
        <button *ngIf="!categoryDrinks" (click)="categoryResult('Drinks')" style="width:9%;" type="button" class="btn btn-light">Drinks</button>
        <button *ngIf="categorySnacks" (click)="categoryResult('Snacks')" style="width:9%;" type="button" class="btn btn-primary">Snacks</button>
        <button *ngIf="!categorySnacks" (click)="categoryResult('Snacks')" style="width:9%;" type="button" class="btn btn-light">Snacks</button>
        <button *ngIf="categoryDishes" (click)="categoryResult('Dishes')" style="width:9%;" type="button" class="btn btn-primary">Dishes</button>
        <button *ngIf="!categoryDishes" (click)="categoryResult('Dishes')" style="width:9%;" type="button" class="btn btn-light">Dishes</button>
        <button *ngIf="categoryOther" (click)="categoryResult('Other')" style="width:8%;" type="button" class="btn btn-primary">Other</button>
        <button *ngIf="!categoryOther" (click)="categoryResult('Other')" style="width:8%;" type="button" class="btn btn-light">Other</button>

        <button *ngIf="categoryFav" (click)="categoryResult('Fav')" style="width:9%; background-color: orange;" type="button" class="btn btn-warning">Favourites
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>
      </button>
      <button *ngIf="!categoryFav" (click)="categoryResult('Fav')" style="width:9%;" type="button" class="btn btn-warning">Favourites
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
            </svg>
      </button>
      </div>
      <div style="margin-top:10px; margin-left: 1%; align-content: center;" class="d-flex flex-row" >
        <div style="width: 70%; margin: 0 auto;" class="d-flex flex-row" >
          <input [(ngModel)]="productSearch" class="form-control" placeholder="Search" (keyup.enter)="searchProduct()">
          <button (click)="searchProduct()" type="button" class="btn btn-primary" style="margin-left: 1rem;">Search</button>
          <button (click)="clearSearch()" type="button" class="btn btn-secondary" [disabled]="!productSearch">Clear</button>
        </div>
        <div style="justify-content:right;">
          <button *ngIf="!lastAdded" (click)="lastAddedChange(true)" style="font-size: 20px; white-space: nowrap; background-color: rgb(231, 0, 231)" type="button" class="btn btn-light">Last Added 
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
              <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg>
          </button>
          <button *ngIf="lastAdded" (click)="lastAddedChange(false)" style="font-size: 20px; white-space: nowrap; background-color:rgb(255, 110, 255); align-self: flex-end;" type="button" class="btn btn-light">Last Added
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
              <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
            </svg>
          </button>
        </div>
      </div>

<table class="table table-striped">
  <thead>
      <tr>
          <th (click)="sortResult('ProductId')" style="cursor: pointer; text-align: center;">Id</th>
          <th (click)="sortResult('Name')" style="cursor: pointer; text-align: center;">Name</th>
          <th (click)="sortResult('Category')" style="cursor: pointer; text-align: center;">Category</th>
          <th (click)="sortResult('Phe')" style="cursor: pointer; text-align: center;">Phe (mg/100g)</th>
          <th (click)="sortResult('Calories')" style="cursor: pointer; text-align: center;">Calories (kcal/100g)</th>
          <th (click)="sortResult('Protein')" style="cursor: pointer; text-align: center;">Protein (g/100g)</th>
          <th (click)="sortResult('Fat')" style="cursor: pointer; text-align: center;">Fat (g/100g)</th>
          <th (click)="sortResult('Carb')" style="cursor: pointer; text-align: center;">Carb (g/100g)</th>
          <th style="text-align: center;">Options</th>
      </tr>
  </thead>
  <tbody>
    <tr *ngFor="let dataItem of ProductsList | paginate : {
      itemsPerPage:pageSize,
      currentPage: page,
      totalItems: count
    };
    let i = index"
      [class.active]="i==page">
          <td style="text-align: center;">{{dataItem.Product.ProductId}}</td>
          <td style="text-align: center;">{{dataItem.Product.Name}}</td>
          <td style="text-align: center;">{{dataItem.Product.Category}}</td>
          <td style="text-align: center;">{{dataItem.Product.Phe/100}}</td>
          <td style="text-align: center;">{{dataItem.Product.Calories/100}}</td>
          <td style="text-align: center;">{{dataItem.Product.Protein/100}}</td>
          <td style="text-align: center;">{{dataItem.Product.Fat/100}}</td>
          <td style="text-align: center;">{{dataItem.Product.Carb/100}}</td>
          <td style="display: flex; justify-content: center; align-items: center;">
            <button type="button" class="btn btn-info"
              (click)="detailsClick(dataItem)"
              data-toggle="modal" data-target="#exampleModal"
              data-backdrop="static" data-keyboard="false"
              >Details
              </button>
            <button type="button" class="btn btn-warning" *ngIf="!dataItem.param"
              (click)="favClick(dataItem)"
              >Fav
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
              </svg>
              </button>
              <button type="button" class="btn btn-danger" *ngIf="dataItem.param"
              (click)="unFavClick(dataItem)"
              >UnFav
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>
              </button>
          </td>
      </tr>
  </tbody>
</table>

<div *ngIf="count==0" style="text-align: center; padding-left: 20px;"><h5><b>No Results</b></h5><br><br></div>

<div class="d-flex justify-content-center">
  <pagination-controls 
  [responsive]="true"
    previousLabel="Prev" 
    nextLabel="Next" 
(pageChange)="onPageChange($event)">
</pagination-controls>
</div>

</div>
</div>