<!-- Button trigger modal -->
  
<div class="panel panel-primary">
    <div class="panel-body">

<!-- Modal -->
<div class="modal fade bg-dark" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ModalTitle}}</h5>
        <button #mybutton type="button" class="close" 
        data-dismiss="modal" aria-label="Close"
        (click)="closeClick()" >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <app-user-details-product [product]="product" *ngIf="ActivateDetailsProductComp">
          </app-user-details-product>
      </div>
    </div>
  </div>
</div>
      <div style="align-content: center;">
        <button *ngIf="categoryFruits" (click)="categoryResult('Fruits')" style="width:10%; margin-left: 1%;" type="button" class="btn btn-primary">Fruits</button>
        <button *ngIf="!categoryFruits" (click)="categoryResult('Fruits')" style="width:10%; margin-left: 1%;" type="button" class="btn btn-light">Fruits</button>
        <button *ngIf="categoryVegetables" (click)="categoryResult('Vegetables')" style="width:10%;" type="button" class="btn btn-primary">Vegetables</button>
        <button *ngIf="!categoryVegetables" (click)="categoryResult('Vegetables')" style="width:10%;" type="button" class="btn btn-light">Vegetables</button>
        <button *ngIf="categoryDairy" (click)="categoryResult('Dairy')" style="width:10%;" type="button" class="btn btn-primary">Dairy</button>
        <button *ngIf="!categoryDairy" (click)="categoryResult('Dairy')" style="width:10%;" type="button" class="btn btn-light">Dairy</button>
        <button *ngIf="categoryGrains" (click)="categoryResult('Grains')" style="width:10%;" type="button" class="btn btn-primary">Grains</button>
        <button *ngIf="!categoryGrains" (click)="categoryResult('Grains')" style="width:10%;" type="button" class="btn btn-light">Grains</button>
        <button *ngIf="categoryProteinFoods" (click)="categoryResult('ProteinFoods')" style="width:10%;" type="button" class="btn btn-primary">Protein Foods</button>
        <button *ngIf="!categoryProteinFoods" (click)="categoryResult('ProteinFoods')" style="width:10%;" type="button" class="btn btn-light">Protein Foods</button>
        <button *ngIf="categoryDrinks" (click)="categoryResult('Drinks')" style="width:10%;" type="button" class="btn btn-primary">Drinks</button>
        <button *ngIf="!categoryDrinks" (click)="categoryResult('Drinks')" style="width:10%;" type="button" class="btn btn-light">Drinks</button>
        <button *ngIf="categorySnacks" (click)="categoryResult('Snacks')" style="width:10%;" type="button" class="btn btn-primary">Snacks</button>
        <button *ngIf="!categorySnacks" (click)="categoryResult('Snacks')" style="width:10%;" type="button" class="btn btn-light">Snacks</button>
        <button *ngIf="categoryDishes" (click)="categoryResult('Dishes')" style="width:10%;" type="button" class="btn btn-primary">Dishes</button>
        <button *ngIf="!categoryDishes" (click)="categoryResult('Dishes')" style="width:10%;" type="button" class="btn btn-light">Dishes</button>
        <button *ngIf="categoryOther" (click)="categoryResult('Other')" style="width:10%;" type="button" class="btn btn-primary">Other</button>
        <button *ngIf="!categoryOther" (click)="categoryResult('Other')" style="width:10%;" type="button" class="btn btn-light">Other</button>
      </div>
    <div style="margin-top:10px; margin-left: 1%; align-content: center;" >
      <div style="width: 40%; margin: 0 auto;" class="d-flex flex-row" >
        <input [(ngModel)]="productSearch" class="form-control" placeholder="Search" (keyup.enter)="searchProduct()">
        <button (click)="searchProduct()" type="button" class="btn btn-primary" style="margin-left: 1rem;">Search</button>
        <button (click)="clearSearch()" type="button" class="btn btn-secondary" [disabled]="!productSearch">Clear</button>
      </div>
    </div>
<table class="table table-striped">
  <thead>
      <tr>
          <th (click)="sortResult('ProductId')" style="cursor: pointer;">Id</th>
          <th (click)="sortResult('Name')" style="cursor: pointer;">Name</th>
          <th (click)="sortResult('Category')" style="cursor: pointer;">Category</th>
          <th (click)="sortResult('Phe')" style="cursor: pointer;">Phe (mg/100g)</th>
          <th (click)="sortResult('Calories')" style="cursor: pointer;">Calories (kcal/100g)</th>
          <th (click)="sortResult('Protein')" style="cursor: pointer;">Protein (g/100g)</th>
          <th (click)="sortResult('Fat')" style="cursor: pointer;">Fat (g/100g)</th>
          <th (click)="sortResult('Carb')" style="cursor: pointer;">Carb (g/100g)</th>
          <th>Options</th>
      </tr>
  </thead>
  <tbody>
    <tr *ngFor="let dataItem of ProductsList | paginate : {
      itemsPerPage:pageSize,
      currentPage: page,
      totalItems: count
    };
    let i = index"
      [class.active]="i==page">
          <td>{{dataItem.ProductId}}</td>
          <td>{{dataItem.Name}}</td>
          <td>{{dataItem.Category}}</td>
          <td>{{dataItem.Phe/100}}</td>
          <td>{{dataItem.Calories/100}}</td>
          <td>{{dataItem.Protein/100}}</td>
          <td>{{dataItem.Fat/100}}</td>
          <td>{{dataItem.Carb/100}}</td>
          <td>
            <button type="button" class="btn btn-info"
              (click)="detailsClick(dataItem)"
              data-toggle="modal" data-target="#exampleModal"
              data-backdrop="static" data-keyboard="false"
              >Details
              </button>
            <button type="button" class="btn btn-warning" *ngIf="!dataItem.isFav"
              (click)="favClick(dataItem)"
              >Fav
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
              </svg>
              </button>
          </td>
      </tr>
  </tbody>
</table>

<div class="d-flex justify-content-center">
  <pagination-controls 
  [responsive]="true"
    previousLabel="Prev" 
    nextLabel="Next" 
(pageChange)="onPageChange($event)">
</pagination-controls>
</div>

</div>
</div>